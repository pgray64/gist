<div id="post" v-cloak>
    <div class="container pt-1 pt-sm-3 pb-5">
        <h5><a :href="getUserUrl(username)">{{username}}</a></h5>
        <h4 class="user-content">
            {{title}}
        </h4>
        <div v-if="contentType === 'text'" class=" text-dark border p-3 border-light rounded user-content">{{textContent}}</div>
        <div v-else-if="contentType === 'image'" class="mt-2">
            <img :src="imageUrl" style="max-width:100%;max-height:600px"/>
        </div>
        <div class="mt-3">
            <button class="btn btn-sm btn-info mb-1 mr-1"><span class="fa fa-share mr-1"></span>Reblog</button>
            <button class="btn btn-sm btn-outline-primary mb-1" @click="showAddComment()"><span class="fa fa-comment-o mr-1"></span>Add a comment</button>
        </div>
        <div class="mt-3" v-if="addingComment">
            <textarea style="resize:none" rows="4" class="form-control" v-model="newCommentContent"
                      maxLength=500 type="text" :disabled="submittingComment"></textarea>
            <div class="text-right mt-2">
                <button type=:button" class="btn btn-sm btn-outline-info mb-1" @click="cancelAddComment()"></span>Cancel</button>
                <ajax-button type="button" :syncing="submittingComment" @click="submitComment()" class="btn btn-sm btn-dark mb-1">Submit comment</ajax-button>
            </div>
        </div>
    </div>
</div>
<%- /* Expose server-rendered data as window.SAILS_LOCALS :: */ exposeLocalsToBrowser() %>
